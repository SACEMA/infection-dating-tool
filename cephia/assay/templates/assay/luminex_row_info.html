{% extends "cephia/row_info_base.html" %}
{% load bootstrap3 %}
{% load endless %}

{% block filter_col_a %}
{% bootstrap_field filter_form.state %}
{% endblock %}

{% block filter_col_b %}
{% bootstrap_field filter_form.has_comment %}
{% endblock %}

{% block filename %}{{file}}{% endblock %}
{% block table_header %}
<thead>
  <th>assay</th>
  <th>laboratory</th>
  <th>operator</th>
  <th>plate_identifier</th>
  <th>test_date</th>
  <th>assay_kit_lot</th>
  <th>test_mode</th>
  <th>specimen_purpose</th>
  <th>specimen_label</th>
  <th>well_untreated</th>
  <th>well_treated</th>
  <th>BSA_MFI</th>
  <th>IgG_MFI</th>
  <th>gp120_MFI</th>
  <th>gp160_MFI</th>
  <th>gp41_MFI</th>
  <th>BSA_MFImb</th>
  <th>IgG_MFImb</th>
  <th>gp120_MFImb</th>
  <th>gp160_MFImb</th>
  <th>gp41_MFImb</th>
  <th>calibrator_BSA</th>
  <th>calibrator_IgG</th>
  <th>calibrator_gp120</th>
  <th>calibrator_gp160</th>
  <th>calibrator_gp41</th>
  <th>gp120_MFIn</th>
  <th>gp160_MFIn</th>
  <th>gp41_MFIn</th>
  <th>DEA_treated_BSA_MFI</th>
  <th>DEA_treated_IgG_MFI</th>
  <th>DEA_treated_gp120_MFI</th>
  <th>DEA_treated_gp160_MFI</th>
  <th>DEA_treated_gp41_MFI</th>
  <th>DEA_treated_BSA_MFImb</th>
  <th>DEA_treated_IgG_MFImb</th>
  <th>DEA_treated_gp120_MFImb</th>
  <th>DEA_treated_gp160_MFImb</th>
  <th>DEA_treated_gp41_MFImb</th>
  <th>DEA_treated_gp120_MFIn</th>
  <th>DEA_treated_gp160_MFIn</th>
  <th>DEA_treated_gp41_MFIn</th>
  <th>gp120_AI</th>
  <th>gp160_AI</th>
  <th>gp41_AI</th>
  <th>State</th>
  <th>Message</th>
</thead>
{% endblock %}

{% block table_body %}
{% paginate rows %}
{% show_pages %}
<tbody>
  {% for row in rows %}
  <tr>
    <td>{{row.assay}}</td>
    <td>{{row.laboratory}}</td>
    <td>{{row.operator}}</td>
    <td>{{row.plate_identifier}}</td>
    <td>{{row.test_date}}</td>
    <td>{{row.assay_kit_lot}}</td>
    <td>{{row.test_mode}}</td>
    <td>{{row.specimen_purpose}}</td>
    <td>{{row.specimen_label}}</td>
    <td>{{row.well_untreated}}</td>
    <td>{{row.well_treated}}</td>
    <td>{{row.BSA_MFI}}</td>
    <td>{{row.IgG_MFI}}</td>
    <td>{{row.gp120_MFI}}</td>
    <td>{{row.gp160_MFI}}</td>
    <td>{{row.gp41_MFI}}</td>
    <td>{{row.BSA_MFImb}}</td>
    <td>{{row.IgG_MFImb}}</td>
    <td>{{row.gp120_MFImb}}</td>
    <td>{{row.gp160_MFImb}}</td>
    <td>{{row.gp41_MFImb}}</td>
    <td>{{row.calibrator_BSA}}</td>
    <td>{{row.calibrator_IgG}}</td>
    <td>{{row.calibrator_gp120}}</td>
    <td>{{row.calibrator_gp160}}</td>
    <td>{{row.calibrator_gp41}}</td>
    <td>{{row.gp120_MFIn}}</td>
    <td>{{row.gp160_MFIn}}</td>
    <td>{{row.gp41_MFIn}}</td>
    <td>{{row.DEA_treated_BSA_MFI}}</td>
    <td>{{row.DEA_treated_IgG_MFI}}</td>
    <td>{{row.DEA_treated_gp120_MFI}}</td>
    <td>{{row.DEA_treated_gp160_MFI}}</td>
    <td>{{row.DEA_treated_gp41_MFI}}</td>
    <td>{{row.DEA_treated_BSA_MFImb}}</td>
    <td>{{row.DEA_treated_IgG_MFImb}}</td>
    <td>{{row.DEA_treated_gp120_MFImb}}</td>
    <td>{{row.DEA_treated_gp160_MFImb}}</td>
    <td>{{row.DEA_treated_gp41_MFImb}}</td>
    <td>{{row.DEA_treated_gp120_MFIn}}</td>
    <td>{{row.DEA_treated_gp160_MFIn}}</td>
    <td>{{row.DEA_treated_gp41_MFIn}}</td>
    <td>{{row.gp120_AI}}</td>
    <td>{{row.gp160_AI}}</td>
    <td>{{row.gp41_AI}}</td>
    <td>{{row.message}}</td>
    <td>{{row.state}}</td>
    <td><pre>{{row.error_message}}</pre></td>
    <td data-row-id="{{row.id}}" data-file-id="{{row.fileinfo.id}}" data-file-type="{{row.fileinfo.file_type}}">
      {% if row.state == 'error' %}
      <button class="btn btn-success btn-comment-modal">
        {% bootstrap_icon "comment" %}
      </button>
      {% endif %}
    </td>
  </tr>
  {% endfor %}
</tbody>
{% endblock %}
